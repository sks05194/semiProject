<!DOCTYPE html>
<html lang="kr">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>게시판 상세 페이지</title>
	<link rel="stylesheet" href="../css/qna_detail.css">
	<script src="/BeansPaM/js/fontawesome.js"></script>
	<script src="/BeansPaM/js/jquery.js"></script>
</head>

<body>
	<header>

	</header>
	<div class="divider">
	</div>
	<div class="chart"></div>
	<main class="content">
		<div class="board-detail">
			<h2>게시글 상세 페이지</h2>

			<!-- 게시글 상세 테이블 -->
			<table class="detail-table">
				<tr>
					<th>구분</th>
					<td>보안</td>
				</tr>
				<tr>
					<th>제목</th>
					<td>추석 명절 선물 후보 정해졌나요?</td>
				</tr>
				<tr>
					<th>작성자</th>
					<td>송상훈</td>
				</tr>
				<tr>
					<th>내용</th>
					<td class="content">추석 명절 선물 후보 정해졌나요?</td>
				</tr>
				<tr>
					<th>작성일</th>
					<td>2024-09-11</td>
				</tr>
				<tr>
					<th>조회수</th>
					<td>1,947</td>
				</tr>
			</table>

			<!-- 댓글 영역 -->
			<div class="comment-section">
				<h3>댓글</h3>
				<!-- 기존 댓글 리스트 -->
				<div id="comment-list"></div>

				<!-- 댓글 작성 영역 -->
				<h3>댓글 작성</h3>
				<textarea id="comment-input" placeholder="댓글을 입력하세요..."></textarea>
				<div class="button-container">
					<button class="comment-submit" onclick="addComment()">댓글 등록</button>
					<button class="edit-btn">수정</button>
					<button class="delete-btn">삭제</button>
					<button class="exit-btn">나가기</button>
				</div>
			</div>
		</div>
	</main>

	<footer>

	</footer>

	<script>
		function addComment() {
			const commentInput = document.getElementById('comment-input');
			const commentText = commentInput.value.trim(); // 새로운 문자열 반환
			//comment input , 값 

			if (commentText !== '') { //commment가 값이 비었을때 
				const commentDiv = document.createElement('div'); // div 요소 생성
				//commentDiv = div list를 추가함. 
				commentDiv.classList.add('comment'); // 

				const headerDiv = document.createElement('div');
				headerDiv.classList.add('comment-header');
				//기존 부모요소에 추가 

				const author = document.createElement('strong');
				author.textContent = '관리자';

				//Date 객체 생성 
				const now = new Date();
				//date 상수는 span요로 만듦 
				const date = document.createElement('span');
				date.classList.add('comment-date'); // 기존에 부모 요소에 클래스 추가 
				date.textContent = `${now.getFullYear()}/${String(now.getMonth() + 1).padStart(2, '0')}/${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(now.getSeconds()).padStart(2, '0')}`;

				// 삭제 버튼 css x
				const deleteBtn = document.createElement('span');
				deleteBtn.classList.add('delete-comment');
				deleteBtn.innerHTML = '&#10006';
				deleteBtn.style.color = "red";
				deleteBtn.style.cursor = "pointer";


				// 클릭을 했을때 뜨는 팝업창
				deleteBtn.onclick = function () {
					deleteComment(deleteBtn);
					alert("글이 삭제 되었습니다.");
					deleteBtn.style.color = "wheet";
					deleteBtn.style.cursor.codePointAt;

				};


				headerDiv.appendChild(author);
				headerDiv.appendChild(date);
				headerDiv.appendChild(deleteBtn);

				const bodyDiv = document.createElement('div');
				bodyDiv.classList.add('comment-body');
				bodyDiv.textContent = commentText;

				commentDiv.appendChild(headerDiv);
				commentDiv.appendChild(bodyDiv);

				document.getElementById('comment-list').appendChild(commentDiv);

				commentInput.value = '';
			} else {
				alert('댓글을 입력하세요.');
			}
		}

		function deleteComment(element) {
			element.parentElement.parentElement.remove();
		}
	</script>

	<script src="/BeansPaM/js/board_menu.js"></script>
</body>

</html>