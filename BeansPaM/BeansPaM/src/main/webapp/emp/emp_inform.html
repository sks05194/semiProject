<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>emp_han</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        header {
            position: fixed;
            height: 100vh;
            width: 200px;
            background-color: rgb(41, 15, 5);
            z-index: 100;
            text-align: center;
            overflow: hidden;
        }

        .menuBar {
            position: relative;
            top: 100px;
            width: 100%;
            color: wheat;
            margin-top: 100px;
        }

        .menuBar h3 {
            color: white;
            margin-bottom: 20px;
        }

        .menuBar a {
            display: block;
            font-size: 15px;
            color: wheat;
            text-decoration: none;
            margin-top: 12px;
            transition: 0.3s;
        }

        .menuBar a:hover {
            color: orangered;
            background-color: black;
            border-radius: 5px;
        }

        .logo {
            width: 150px;
            margin: 30px auto 20px;
        }

        .title {
            width: 100%;
            height: 80px;
            position: relative;
            background-color: rgb(244, 228, 209);
            text-align: center;
        }

        .title h1 {
            font-size: 45px;
        }

        .container {
            width: 80%;
            margin: auto;
            overflow: hidden;
            max-width: 1200px;
        }

        .search-container {
            margin: 20px 0;
            float: right;
        }

        .search-container select, .search-container input {
            padding: 10px;
            font-size: 16px;
            margin-right: 5px;
        }

        .search-container button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: rgb(41, 15, 5);
            color: #fff;
            border: none;
            cursor: pointer;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #fff;
            table-layout: fixed;
        }

        table, th, td {
            border: 1px solid #ddd;
        }

        th,
        td {
            padding: 12px;
            text-align: center;
        }

        th {
            background-color: rgb(41, 15, 5);
            color: #fff;
        }

        .no-results {
            text-align: center;
            padding: 20px;
        }

        .pagination {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 0;
        }

        .pagination button {
            padding: 10px;
            font-size: 16px;
            background-color: white;
            color: rgb(41, 15, 5);
            border: none;
            cursor: pointer;
            margin: 0 2px;
        }

        .pagination button.active {
            background-color: rgb(41, 15, 5);
            color: #fff;
        }

        .pagination span {
            padding: 10px;
            font-size: 16px;
        }

        @media (max-width: 768px) {
            header {
                width: 100%;
                height: auto;
                position: static;
            }

            .menuBar {
                top: 0;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .logo {
                margin: 10px auto;
            }

            .title, .container {
                margin-left: 0;
                padding: 10px;
            }

            .search-container {
                float: none;
                text-align: center;
            }

            table {
                font-size: 14px;
                overflow-x: auto;
                display: block;
            }
        }
    </style>
</head>

<body>
    <header>
        <!-- <img src="/BeansPaM/img/full_logo.png" class="logo">
        <div class="menuBar">
            <h3>손동진</h3>
            <p>new Person</p>
            <i class="fa-solid fa-user"></i>
            <a href="" id="a">연차 현황</a>
            <a href="">급여 확인</a>
            <a href="">근태 현황</a>
            <a href="">MyPage</a>
            <a href="">Home</a>
        </div> -->
    </header>
    <main>
        <div class="title">
            <h1>사원 검색</h1>
        </div>
        <div class="container">
            <div class="search-container">
                <select id="searchField">
                    <option value="employee">사번</option>
                    <option value="name">이름</option>
                    <option value="department">부서명</option>
                    <option value="position">직급</option>
                    <option value="email">이메일</option>
                    <option value="tel">내선번호</option>
                </select>
                <input type="text" id="searchInput">
                <button onclick="filterTable()">검색</button>
            </div>
            <table id="employeeTable">
                <thead>
                    <tr>
                        <th>사번</th>
                        <th>이름</th>
                        <th>부서명</th>
                        <th>직급</th>
                        <th>이메일</th>
                        <th>내선번호</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <div id="noResults" class="no-results" style="display:none;">
                검색 결과가 없습니다.
            </div>
            <div id="pagination" class="pagination"></div>
        </div>
    </main>
    <script>
        //임시데이터, db연결시 삭제할거
        const originalEmployees = [
            { employee: '33334444', name: '강말자', department: '기획부', position: '사원', email: 's@coffee.com', tel: '02-3333-4444' },
            { employee: '44443333', name: '권지옹', department: '관리부', position: '대리', email: 't@coffee.com', tel: '02-4444-3333' },
            { employee: '11111111', name: '김길동', department: '영업부', position: '부장', email: 'a@coffee.com', tel: '02-1111-1111' },
            { employee: '22222222', name: '김둘리', department: '기획부', position: '사원', email: 'b@coffee.com', tel: '02-2222-2222' },
            { employee: '33333333', name: '김또치', department: '기획부', position: '과장', email: 'c@coffee.com', tel: '02-3333-3333' },
            { employee: '44444444', name: '김영희', department: '관리부', position: '대리', email: 'd@coffee.com', tel: '02-4444-4444' },
            { employee: '55555555', name: '김철수', department: '관리부', position: '인턴', email: 'e@coffee.com', tel: '02-5555-5555' },
            { employee: '66666666', name: '김희동', department: '기획부', position: '사원', email: 'f@coffee.com', tel: '02-6666-6666' },
            { employee: '55556666', name: '나미리', department: '관리부', position: '인턴', email: 'u@coffee.com', tel: '02-5555-6666' },
            { employee: '90909090', name: '매앵구', department: '관리부', position: '대리', email: 'p@coffee.com', tel: '02-9090-9090' },
            { employee: '99999999', name: '박길동', department: '기획부', position: '사원', email: 'g@coffee.com', tel: '02-9999-9999' },
            { employee: '12121212', name: '박희동', department: '영업부', position: '인턴', email: 'h@coffee.com', tel: '02-1212-1212' },
            { employee: '78787878', name: '봉미선', department: '영업부', position: '차장', email: 'n@coffee.com', tel: '02-7878-7878' },
            { employee: '11221122', name: '신짱구', department: '관리부', position: '대리', email: 'k@coffee.com', tel: '02-1122-1122' },
            { employee: '33443344', name: '신짱아', department: '기획부', position: '사원', email: 'l@coffee.com', tel: '02-3344-3344' },
            { employee: '55665566', name: '신형만', department: '관리부', position: '대리', email: 'm@coffee.com', tel: '02-5566-5566' },
            { employee: '34343434', name: '이길동', department: '기획부', position: '과장', email: 'i@coffee.com', tel: '02-3434-3434' },
            { employee: '99009900', name: '이훈이', department: '관리부', position: '부장', email: 'q@coffee.com', tel: '02-9900-9900' },
            { employee: '56565656', name: '이희동', department: '기획부', position: '차장', email: 'j@coffee.com', tel: '02-5656-5656' },
            { employee: '77778888', name: '차은주', department: '기획부', position: '사원', email: 'w@coffee.com', tel: '02-7777-8888' },
            { employee: '66665555', name: '채성아', department: '관리부', position: '인턴', email: 'v@coffee.com', tel: '02-6666-5555' },
            { employee: '88887777', name: '치이타', department: '관리부', position: '대리', email: 'x@coffee.com', tel: '02-8888-7777' },
            { employee: '11112222', name: '한수지', department: '영업부', position: '사원', email: 'q@coffee.com', tel: '02-1111-2222' },
            { employee: '22221111', name: '한유리', department: '관리부', position: '대리', email: 'r@coffee.com', tel: '02-2222-1111' },
            { employee: '77887788', name: '흰둥이', department: '영업부', position: '인턴', email: 'o@coffee.com', tel: '02-7788-7788' }
        ];

        let filteredEmployees = [...originalEmployees];
        let currentPage = 1;
        const rowsPerPage = 10;

        function displayTable(page) {
            const tableBody = document.querySelector('#employeeTable tbody');
            const pagination = document.getElementById('pagination');
            tableBody.innerHTML = '';
            pagination.innerHTML = '';

            const start = (page - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            const paginatedItems = filteredEmployees.slice(start, end);

            paginatedItems.forEach(employee => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${employee.employee}</td>
                    <td>${employee.name}</td>
                    <td>${employee.department}</td>
                    <td>${employee.position}</td>
                    <td>${employee.email}</td>
                    <td>${employee.tel}</td>
                `;
                tableBody.appendChild(row);
            });

            const totalPages = Math.ceil(filteredEmployees.length / rowsPerPage);

            for (let i = 1; i <= totalPages; i++) {
                const button = document.createElement('button');
                button.innerText = i;
                button.className = i === page ? 'active' : '';
                button.addEventListener('click', () => {
                    currentPage = i;
                    displayTable(i);
                });
                pagination.appendChild(button);
                pagination.appendChild(document.createTextNode(' '));
            }
        }

        function filterTable() {
            const searchField = document.getElementById('searchField').value;
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            filteredEmployees = originalEmployees.filter(employee => {
                return employee[searchField].toLowerCase().includes(searchInput);
            });
            currentPage = 1;
            displayTable(currentPage);
            document.getElementById('noResults').style.display = filteredEmployees.length === 0 ? 'block' : 'none';
        }

        displayTable(currentPage);
    </script>
    
    <script src="/BeansPaM/js/fms_menu.js"></script>
</body>

</html>