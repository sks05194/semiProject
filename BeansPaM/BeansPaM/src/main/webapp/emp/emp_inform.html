<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/BeansPaM/css/emp_inform.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src = "https://kit.fontawesome.com/b19de6d406.js"></script>
</head>
<body>
    <header>
        <div class = "Home">
            <div class = "mark">
                
                <span></span>
                <span></span>
                <span></span>
            </div>  
            <div class ="content">
            <a href="" >CoffeePaM<br>&CoffeeJAVA</a>
        </div>
            
        <div class = "menubar"> 
            <i class="fa-solid fa-user"></i>
                <h3>손동진</h3>
                <p>new Person</p>
                <ul>
                <li data-alt="d1">MyPage</li>
                <li data-alt="d2">시설현황</li>
                <li data-alt="d3">전자결재</li>
                <li data-alt="d4">사원정보</li>
                
            </ul>
        </div>
        <div class="box">
            <div class ="selector" id = "d1">
                <a href="">  <i class="fa-solid fa-user"></i></a>
                <a href="" id = "d1_a">연차</a>
                <a href="">  <i class="fa-solid fa-user"></i></a>
                <a href="" id = "d1_b">근태</a>
                <a href="">  <i class="fa-solid fa-money-bill"></i></a>
                <a href="" id = "d1_c">급여</a>
            </div>
          
            <div class = "selector" id = "d2">
                <a href="/BeansPaM/pof/stock/index.html"><i class="fa-solid fa-industry"></i></a>
                <a href="/BeansPaM/pof/stock/index.html" id = "d2_a" >1번 창고</a>
            
                <a href=""><i class="fa-solid fa-industry"></i></a>
                <a href="" id = "d2_b">2번 창고</a>
                 </div>
            <div class ="selector" id = "d3">
                <a href=""><i class="fa-brands fa-elementor"></i></a>
                <a href="" id = "d3_a">전자문서</a>
                <a href=""><i class="fa-solid fa-file"></i></a>
                <a href="" id = "d3_b">결재</a>
            </div>
            <div class ="selector" id = "d4">
                <a href="/BeansPaM/emp/emp_inform.html"><i class="fa-solid fa-file"></i></a>
                <a href="/BeansPaM/emp/emp_inform.html">사원검색</a>
                <a href=""><i class="fa-solid fa-file"></i></a>
                <a href="">사원 목록</a>
          
            </div>
    
        </div>

    </header>
    <main>
        <div class = "title">
            <h1>사원 검색</h1>
        </div>
        <div class="container">
            <div class="search-container">
                <select id="searchField">
                    <option value="employee">사번</option>
                    <option value="name">이름</option>
                    <option value="department">부서명</option>
                    <option value="position">직급</option>
                    <option value="email">이메일</option>
                    <option value="tel">내선번호</option>
                </select>
                <input type="text" id="searchInput">
                <button onclick="filterTable()">검색</button>
            </div>
            <table id="employeeTable">
                <thead>
                    <tr><th>사번</th><th>이름</th><th>부서명</th><th>직급</th><th>이메일</th><th>내선번호</th></tr>
                </thead>
                <tbody></tbody>
            </table>
            <div id="noResults" class="no-results" style="display:none;">
                검색 결과가 없습니다.
            </div>
            <div id="pagination" class="pagination"></div>
        </div>
    </main>
    <script>
        $('.btn li').click(function(){
    $(this).addClass('active')
    $(this).siblings().removeClass('active');
   var result =  $(this).attr('data-alt');
   $('.tabs div').removeClass('active');
   $('#' + result).addClass('active');
   
    
});
$('.menubar li').click(function(){
    $(this).addClass('active'); // backgroundcolor색깔 하고 커서 포인터 잡히고 color 색 잡히는거 
    $(this).siblings().removeClass('active');
    // 형제요소에 있는 곳은 active 클래스 빼버리기 

    var result = $(this).attr('data-alt'); // menuBar에 속성 집어 넣기 
    $('.box div').removeClass('active'); // 박스요소안에 있는 div들은 먼저 제거한 상태 
    $('#' + result).addClass('active');

});

$('.map1 button').click(function(){
    $("#asian").toggle();
    
});
        //임시데이터, db연결시 삭제할거
        const originalEmployees = [
            { employee: '33334444', name: '강동준', department: '기획부', position: '사원', email: 's@coffee.com', tel: '02-3333-4444' },
            { employee: '44443333', name: '강동준', department: '관리부', position: '대리', email: 't@coffee.com', tel: '02-4444-3333' },
            { employee: '11111111', name: '민기홍', department: '영업부', position: '부장', email: 'a@coffee.com', tel: '02-1111-1111' },
            { employee: '22222222', name: '김둘리', department: '기획부', position: '사원', email: 'b@coffee.com', tel: '02-2222-2222' },
            { employee: '33333333', name: '김또치', department: '기획부', position: '과장', email: 'c@coffee.com', tel: '02-3333-3333' },
            { employee: '44444444', name: '김영희', department: '관리부', position: '대리', email: 'd@coffee.com', tel: '02-4444-4444' },
            { employee: '55555555', name: '김철수', department: '관리부', position: '인턴', email: 'e@coffee.com', tel: '02-5555-5555' },
            { employee: '66666666', name: '김희동', department: '기획부', position: '사원', email: 'f@coffee.com', tel: '02-6666-6666' },
            { employee: '55556666', name: '나미리', department: '관리부', position: '인턴', email: 'u@coffee.com', tel: '02-5555-6666' },
            { employee: '90909090', name: '매앵구', department: '관리부', position: '대리', email: 'p@coffee.com', tel: '02-9090-9090' },
            { employee: '99999999', name: '박길동', department: '기획부', position: '사원', email: 'g@coffee.com', tel: '02-9999-9999' },
            { employee: '12121212', name: '박희동', department: '영업부', position: '인턴', email: 'h@coffee.com', tel: '02-1212-1212' },
            { employee: '78787878', name: '송상훈', department: '영업부', position: '차장', email: 'n@coffee.com', tel: '02-7878-7878' },
            { employee: '11221122', name: '김보라', department: '관리부', position: '대리', email: 'k@coffee.com', tel: '02-1122-1122' },
            { employee: '33443344', name: '신짱아', department: '기획부', position: '사원', email: 'l@coffee.com', tel: '02-3344-3344' },
            { employee: '55665566', name: '신형만', department: '관리부', position: '대리', email: 'm@coffee.com', tel: '02-5566-5566' },
            { employee: '34343434', name: '이길동', department: '기획부', position: '과장', email: 'i@coffee.com', tel: '02-3434-3434' },
            { employee: '99009900', name: '이훈이', department: '관리부', position: '부장', email: 'q@coffee.com', tel: '02-9900-9900' },
            { employee: '56565656', name: '이희동', department: '기획부', position: '차장', email: 'j@coffee.com', tel: '02-5656-5656' },
            { employee: '77778888', name: '차은주', department: '기획부', position: '사원', email: 'w@coffee.com', tel: '02-7777-8888' },
            { employee: '66665555', name: '채성아', department: '관리부', position: '인턴', email: 'v@coffee.com', tel: '02-6666-5555' },
            { employee: '88887777', name: '치이타', department: '관리부', position: '대리', email: 'x@coffee.com', tel: '02-8888-7777' },
            { employee: '11112222', name: '한수지', department: '영업부', position: '사원', email: 'q@coffee.com', tel: '02-1111-2222' },
            { employee: '22221111', name: '한유리', department: '관리부', position: '대리', email: 'r@coffee.com', tel: '02-2222-1111' },
            { employee: '77887788', name: '흰둥이', department: '영업부', position: '인턴', email: 'o@coffee.com', tel: '02-7788-7788' }
        ];

        let filteredEmployees = [...originalEmployees];
        let currentPage = 1;
        const rowsPerPage = 10;

        function displayTable(page) {
            const tableBody = document.querySelector('#employeeTable tbody');
            const pagination = document.getElementById('pagination');
            tableBody.innerHTML = '';
            pagination.innerHTML = '';

            const start = (page - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            const paginatedItems = filteredEmployees.slice(start, end);

            paginatedItems.forEach(employee => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${employee.employee}</td>
                    <td>${employee.name}</td>
                    <td>${employee.department}</td>
                    <td>${employee.position}</td>
                    <td>${employee.email}</td>
                    <td>${employee.tel}</td>
                `;
                tableBody.appendChild(row);
            });

            const totalPages = Math.ceil(filteredEmployees.length / rowsPerPage);

            for (let i = 1; i <= totalPages; i++) {
                const button = document.createElement('button');
                button.innerText = i;
                button.className = i === page ? 'active' : '';
                button.addEventListener('click', () => {
                    currentPage = i;
                    displayTable(i);
                });
                pagination.appendChild(button);
                pagination.appendChild(document.createTextNode(' '));
            }
        }

        function filterTable() {
            const searchField = document.getElementById('searchField').value;
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            filteredEmployees = originalEmployees.filter(employee => {
                return employee[searchField].toLowerCase().includes(searchInput);
            });
            currentPage = 1;
            displayTable(currentPage);
            document.getElementById('noResults').style.display = filteredEmployees.length === 0 ? 'block' : 'none';
        }

        displayTable(currentPage);
    </script>
</body>
</html>