<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/BeansPaM/css/board_look.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>게시판 상세 페이지</title>
</head>
<body>
    <header>

    </header>
    <main class="content">
        <div class="board-detail">
            <h2>게시글 상세 페이지</h2>

            <!-- 게시글 상세 테이블 -->
            <table class="detail-table">
                <tr>
                    <th>구분</th>
                    <td>보안</td>
                </tr>
                <tr>
                    <th>제목</th>
                    <td>추석 명절 선물 후보 정해졌나요?</td>
                </tr>
                <tr>
                    <th>작성자</th>
                    <td>송상훈</td>
                </tr>
                <tr>
                    <th>내용</th>
                    <td class="content">추석 명절 선물 후보 정해졌나요?</td>
                </tr>
                <tr>
                    <th>작성일</th>
                    <td>2024-09-11</td>
                </tr>
                <tr>
                    <th>조회수</th>
                    <td>1,947</td>
                </tr>
            </table>

            <!-- 댓글 영역 -->
            <div class="comment-section">
                <h3>댓글</h3>
                <!-- 기존 댓글 리스트 -->
                <div id="comment-list"></div>

                <!-- 댓글 작성 영역 -->
                <h3>댓글 작성</h3>
                <textarea id="comment-input" placeholder="댓글을 입력하세요..."></textarea>
                <div class="button-container">
                    <button class="comment-submit" onclick="addComment()">댓글 등록</button>
                    <button class="edit-btn">수정</button>
                    <button class="delete-btn">삭제</button>
                    <button class="exit-btn">나가기</button>
                </div>
            </div>
        </div>
    </main>

    <!-- JavaScript 코드 추가 -->
    <script>
        function addComment() {
            const commentInput = document.getElementById('comment-input');
            const commentText = commentInput.value.trim();

            if (commentText !== '') {
                const commentDiv = document.createElement('div');
                commentDiv.classList.add('comment');

                const headerDiv = document.createElement('div');
                headerDiv.classList.add('comment-header');

                const author = document.createElement('strong');
                author.textContent = '사용자';

                const now = new Date();
                const date = document.createElement('span');
                date.classList.add('comment-date');
                date.textContent = `${now.getFullYear()}/${String(now.getMonth() + 1).padStart(2, '0')}/${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(now.getSeconds()).padStart(2, '0')}`;

                const deleteBtn = document.createElement('span');
                deleteBtn.classList.add('delete-comment');
                deleteBtn.innerHTML = '&#10006;';
                deleteBtn.onclick = function() {
                    deleteComment(deleteBtn);
                };

                headerDiv.appendChild(author);
                headerDiv.appendChild(date);
                headerDiv.appendChild(deleteBtn);

                const bodyDiv = document.createElement('div');
                bodyDiv.classList.add('comment-body');
                bodyDiv.textContent = commentText;

                commentDiv.appendChild(headerDiv);
                commentDiv.appendChild(bodyDiv);

                document.getElementById('comment-list').appendChild(commentDiv);

                commentInput.value = '';
            } else {
                alert('댓글을 입력하세요.');
            }
        }

        function deleteComment(element) {
            element.parentElement.parentElement.remove();
        }
    </script>

    <script src="/BeansPaM/js/board_menu.js"></script>
</body>
</html>
